
<!DOCTYPE html>
<html>
<head>
<title>Eshop a Flat E-Commerce Bootstrap Responsive Website Template | Chectout :: w3layouts</title>
<link href="stylesheets/bootstrap.css" rel='stylesheet' type='text/css' />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery.min.js"></script>
<!-- Custom Theme files -->
<link href="stylesheets/style.css" rel="stylesheet" type="text/css" media="all" />
<!-- Custom Theme files -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Eshop Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!--webfont-->
<!-- for bootstrap working -->
	<script type="text/javascript" src="js/bootstrap-3.1.1.min.js"></script>
<!-- //for bootstrap working -->
<!-- cart -->
	<script src="js/simpleCart.min.js"> </script>
<!-- cart -->
<link rel="stylesheet" href="stylesheets/flexslider.css" type="text/css" media="screen" />
</head>
<body ng-app="CheckoutApp" ng-controller="Checkout-controller">
	<!-- header-section-starts -->
	<div class="header">
		<div class="header-top-strip">
			<div class="container">
				<div class="header-top-left">
					<ul>
						<li><a href="/logout"><span class="glyphicon glyphicon-user"> </span>Log Out</a></li>			
					</ul>
				</div>
				<div class="header-right">
						<div class="cart box_1">
							<a href="/MenProducts">
								<h3> Go Back </h3>
							</a>	
							<div class="clearfix"> </div>
						</div>
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
	</div>
	<!-- header-section-ends -->
	<div class="inner-banner">
		<div class="container">
			<div class="banner-top inner-head">
				<nav class="navbar navbar-default" role="navigation">
	    <div class="navbar-header">
	        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
	        </button>
				<div class="logo">
					<h1><a href="/index"><span>E</span> -Shop</a></h1>
				</div>
	    </div>
	    <!--/.navbar-header-->
	
	   <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
<ul class="nav navbar-nav">
			<li><a href="/index">Home</a></li>
		        <li class="dropdown">
		            <a href="/MenProducts" >Men <b class="caret"></b></a>
		            <ul class="dropdown-menu multi-column columns-3">
			          
		            </ul>
		        </li>
		        <li class="dropdown">
		            <a href="/womenproducts">Women<b class="caret"></b></a>
		            <ul class="dropdown-menu multi-column columns-3">
			        
		            </ul>
		        </li>
		        <li class="dropdown">
		        	<a href="/KidProducts">kids <b class="caret"></b></a>
		            <ul class="dropdown-menu multi-column columns-2">
			           
		            </ul>
		        </li>
					<!--<li><a href="/typography">TYPO</a></li>-->
					<li><a href="/contact">CONTACT</a></li>
	        </ul>
	    </div>
	    <!--/.navbar-collapse-->
	</nav>
	<!--/.navbar-->
</div>
	</div>
		</div>
		<!-- checkout -->
<div class="cart-items" >
	<div class="container">
	<div class="dreamcrub">
			   	 <ul class="breadcrumbs">
                    <li class="home">
                       <a href="/index" title="Go to Home Page">Home</a>&nbsp;
                       <span>&gt;</span>
                    </li>
                    <li class="women">
                       Cart
                    </li>
                </ul>
                <ul class="previous">
                	<li><a href="/index">Back to Previous Page</a></li>
                </ul>
                <div class="clearfix"></div>
			   </div>
			 <h2>MY SHOPPING BAG ({{shopping_count}})</h2>
			 <div class="cart-gd">
			 <div class="cart-header" align="center">
				 <div class="cart-sec simpleCart_shelfItem">						
					   <div class="cart-item-info" align="center">
					   	<table class="table table-striped table-bordered" align="center">
               			<thead>
                  			<tr>                  
                     		<th>Name</th>
                     		<th>Catagory</th>
                     		<th>SubCatagory</th>
                     		<th>price</th>
                  			</tr>
               			</thead>
               			<tbody>
                  		<tr ng-repeat="item in shoppingCart">                  
                     		<td>{{ item.productName }}</td>
                     		<td>{{ item.productCatagory }}</td>
               				<td>{{ item.productSubCatagory }}</td>
               				<td>{{ item.price }}</td>
               			</tr>
               			</tbody>
            			</table>						
				        </div>					        
					   </div>											
				  </div>
			 </div>
		</div>
	</div>
</div>
				<div class="join" align="center">					
					<div class="sub-left-right">
						<form>							
							<input type="submit" value="Place Order" ng-click="placeOrder()"/>
						</form>
					</div>
					<div class="clearfix"> </div>
				</div>
				<br>

<!-- //checkout -->	
		<div class="news-letter">
			<div class="container">
				<div class="join">
					<h6>RECOMMENDATIONS</h6>
					<div  align="center">
						<div class="cart-gd">
			 			<div class="cart-header" style="text-align:center;">
				 			<div class="cart-sec simpleCart_shelfItem">						
					   			<div class="cart-item-info" style="text-align:center;">
							   		<table class="table table-striped table-bordered" style="margin-left:auto;margin-right:auto;">
		               					<thead>
				                  			<tr>                  
				                     		<th>Name</th>
				                     		<th>Image</th>
				                     		<th>Catagory</th>
				                     		<th>SubCatagory</th>				                     		
				                  			</tr>
		               					</thead>
				               			<tbody>
				                  		<tr ng-repeat="item in recommendationList">                  
				                     		<td>{{ item.productName }}</td>
				                     		<td><img ng-src="{{ item.imageUrl }}" height="60" width="60"></td>
				                     		<td>{{ item.productCatagory }}</td>
				               				<td>{{ item.productSubCatagory }}</td>				               				
				               			</tr>
				               			</tbody>
		            				</table>						
				        		</div>					        
					   		</div>											
				  </div>
			 </div>
		</div>					</div>
					<div class="clearfix"> </div>
				</div>
			</div>
		</div>
		<div class="footer">
		<div class="container">
		 <div class="footer_top">
			<div class="span_of_4">
				<div class="col-md-3 span1_of_4">
					<h4>Shop</h4>
					<ul class="f_nav">
						<li><a href="#">new arrivals</a></li>
						<li><a href="#">men</a></li>
						<li><a href="#">women</a></li>
						<li><a href="#">accessories</a></li>
						<li><a href="#">kids</a></li>
						<li><a href="#">brands</a></li>
						<li><a href="#">trends</a></li>
						<li><a href="#">sale</a></li>
						<li><a href="#">style videos</a></li>
					</ul>	
				</div>
				<div class="col-md-3 span1_of_4">
					<h4>help</h4>
					<ul class="f_nav">
						<li><a href="#">frequently asked  questions</a></li>
						<li><a href="#">men</a></li>
						<li><a href="#">women</a></li>
						<li><a href="#">accessories</a></li>
						<li><a href="#">kids</a></li>
						<li><a href="#">brands</a></li>
					</ul>	
				</div>
				<div class="col-md-3 span1_of_4">
					<h4>account</h4>
					<ul class="f_nav">
						<li><a href="/account">login</a></li>
						<li><a href="/register">create an account</a></li>
						<li><a href="#">create wishlist</a></li>
						<li><a href="/checkout">my shopping bag</a></li>
						<li><a href="#">brands</a></li>
						<li><a href="#">create wishlist</a></li>
					</ul>					
				</div>
				<div class="col-md-3 span1_of_4">
					<h4>popular</h4>
					<ul class="f_nav">
						<li><a href="#">new arrivals</a></li>
						<li><a href="#">men</a></li>
						<li><a href="#">women</a></li>
						<li><a href="#">accessories</a></li>
						<li><a href="#">kids</a></li>
						<li><a href="#">brands</a></li>
						<li><a href="#">trends</a></li>
						<li><a href="#">sale</a></li>
						<li><a href="#">style videos</a></li>
						<li><a href="#">login</a></li>
						<li><a href="#">brands</a></li>
					</ul>			
				</div>
				<div class="clearfix"></div>
				</div>
		  </div>
		  <div class="cards text-center">
				<img src="images/cards.jpg" alt="" />
		  </div>
		  <div class="copyright text-center">
				<p>Â© 2015 Eshop. All Rights Reserved | Design by   <a href="http://w3layouts.com">  W3layouts</a></p>
		  </div>
		</div>
		</div>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
		<script>
			var app = angular.module('CheckoutApp', []);
			app.controller("Checkout-controller", checkoutController);

			checkoutController.$inject = [ '$scope', '$http', '$window' ];
			function checkoutController($scope, $http, $window) {
				$scope.shopping_count = "";
				
				function item(id, productName, productCatagory, productSubCatagory, price) {
						this.id = id;
						this.productName = productName;
						this.productCatagory = productCatagory;
						this.productSubCatagory = productSubCatagory;
						this.price = price;
				}
				



				$http({
					method: 'GET',
					url: '/getAllProductsInCart'
				}).success(function(result){
					 $scope.shoppingCart = result.data;	 
					 $scope.shopping_count = result.data.length;	
					 console.log("Get All Shopping Cart");
					 if (result.data.length > 0) {
					 	$scope.getRecommendation(result.data[0].product_id);
					 }
				}).error(function(data){				
				});

				$scope.getRecommendation = function(productId) {
 					 $http({
						method: 'POST',
						url: '/getRecommendations',
						data: { "productId" : productId}
					 }).success(function(result){
					 	$scope.recommendationList = result.data;
					 }).error(function(data){				
					 });

				}											

				$scope.placeOrder = function() {
					 $scope.shoppingCart = "";	 
					 $scope.shopping_count = "";	
					 alert("Order Placed Successfully");
 					 $http({
						method: 'GET',
						url: '/deleteAllFromCart'
					 }).success(function(result){
					 }).error(function(data){				
					 });

				}											

			}		
		</script>
</body>
</html>